
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{1\_filtering}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \hypertarget{assignment1-cmpt826}{%
\section{Assignment1, CMPT826}\label{assignment1-cmpt826}}

\hypertarget{step-1-filter}{%
\subsection{Step 1: Filter}\label{step-1-filter}}

\begin{itemize}
\tightlist
\item
  Seyedeh Mina Mousavifar
\item
  11279515
\item
  sem311
\end{itemize}

    \hypertarget{filtering-users-based-on-battery-record}{%
\subsubsection{Filtering users based on battery
record}\label{filtering-users-based-on-battery-record}}

    Obtaining battery record count per user

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        
        \PY{c+c1}{\PYZsh{} reading data from pickle object}
        \PY{n}{battery\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/battery.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} counting number of battery information per user}
        \PY{n}{battery\PYZus{}info} \PY{o}{=} \PY{n}{battery\PYZus{}data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{user\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{record\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} finding number of users before filtering}
        \PY{n}{all\PYZus{}users}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{battery\PYZus{}info}\PY{o}{.}\PY{n}{shape}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{There is a total of}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{all\PYZus{}users}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{users.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
There is a total of 108 users.

    \end{Verbatim}

    \hypertarget{filtering-users-with-less-than-50-battery-records.}{%
\paragraph{Filtering users with less than 50\% battery
records.}\label{filtering-users-with-less-than-50-battery-records.}}

Maximum battery record is \((60/5)*24*30=8640\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} calculating filtering cutoff}
        \PY{n}{cutoff\PYZus{}percentage} \PY{o}{=} \PY{l+m+mf}{0.5}
        \PY{n}{max\PYZus{}battery\PYZus{}info} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{60} \PY{o}{/} \PY{l+m+mi}{5}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{24} \PY{o}{*} \PY{l+m+mi}{30}
        \PY{n}{battery\PYZus{}cutoff} \PY{o}{=} \PY{n}{cutoff\PYZus{}percentage} \PY{o}{*} \PY{n}{max\PYZus{}battery\PYZus{}info}
        
        \PY{c+c1}{\PYZsh{} filtering users with less than 50\PYZpc{}}
        \PY{n}{battery\PYZus{}info\PYZus{}50} \PY{o}{=} \PY{n}{battery\PYZus{}info}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{battery\PYZus{}info}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{record\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{battery\PYZus{}cutoff}\PY{p}{]}
        \PY{n}{users\PYZus{}filter\PYZus{}50}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{battery\PYZus{}info\PYZus{}50}\PY{o}{.}\PY{n}{shape}
        
        \PY{c+c1}{\PYZsh{} preserving only users with more than 50\PYZpc{} battery record}
        \PY{n}{battery\PYZus{}data\PYZus{}50} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{left}\PY{o}{=}\PY{n}{battery\PYZus{}data}\PY{p}{,} \PY{n}{right}\PY{o}{=}\PY{n}{battery\PYZus{}info\PYZus{}50}\PY{p}{,} \PY{n}{left\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{user\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{user\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{all\PYZus{}users} \PY{o}{\PYZhy{}} \PY{n}{users\PYZus{}filter\PYZus{}50}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{users are removed in 50}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ threshold.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
65 users are removed in 50\% threshold.

    \end{Verbatim}

    \hypertarget{filtering-users-with-less-than-75-battery-records.}{%
\paragraph{Filtering users with less than 75\% battery
records.}\label{filtering-users-with-less-than-75-battery-records.}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} calculating filtering cutoff}
        \PY{n}{cutoff\PYZus{}percentage} \PY{o}{=} \PY{l+m+mf}{0.75}
        \PY{n}{battery\PYZus{}cutoff} \PY{o}{=} \PY{n}{cutoff\PYZus{}percentage} \PY{o}{*} \PY{n}{max\PYZus{}battery\PYZus{}info}
        
        \PY{c+c1}{\PYZsh{} filtering users with less than 75\PYZpc{}}
        \PY{n}{battery\PYZus{}info\PYZus{}75} \PY{o}{=} \PY{n}{battery\PYZus{}info}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{battery\PYZus{}info}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{record\PYZus{}count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{battery\PYZus{}cutoff}\PY{p}{]}
        \PY{n}{users\PYZus{}filter\PYZus{}75}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{battery\PYZus{}info\PYZus{}75}\PY{o}{.}\PY{n}{shape}
        
        \PY{c+c1}{\PYZsh{} preserving only users with more than 75\PYZpc{} battery record}
        \PY{n}{battery\PYZus{}data\PYZus{}75} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{left}\PY{o}{=}\PY{n}{battery\PYZus{}data}\PY{p}{,} \PY{n}{right}\PY{o}{=}\PY{n}{battery\PYZus{}info\PYZus{}75}\PY{p}{,} \PY{n}{left\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{user\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{user\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{all\PYZus{}users} \PY{o}{\PYZhy{}} \PY{n}{users\PYZus{}filter\PYZus{}75}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{users are removed in 75}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ threshold.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} saving data frame as pickle object for future use}
        \PY{n}{battery\PYZus{}data\PYZus{}50}\PY{o}{.}\PY{n}{to\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/battery\PYZus{}50.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{battery\PYZus{}data\PYZus{}75}\PY{o}{.}\PY{n}{to\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/battery\PYZus{}75.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
86 users are removed in 75\% threshold.

    \end{Verbatim}

    \begin{quote}
There is a total of 108 users, 65 users are removed in 50\% threshold,
and 86 users are removed in 75\% threshold.
\end{quote}

    \hypertarget{filtering-gps-records}{%
\subsubsection{Filtering GPS records}\label{filtering-gps-records}}

    Obtaining gps data

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{} reading data from pickle object}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/gps.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} finding number of all records}
        \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{There is a total of}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPS records.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
There is a total of 8592409 GPS records.

    \end{Verbatim}

    \hypertarget{filtering-records-with-more-than-100m-accuracy.}{%
\paragraph{Filtering records with more than 100m
accuracy.}\label{filtering-records-with-more-than-100m-accuracy.}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{} filtering accuracy more than 100}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{accu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}} \PY{l+m+mi}{100}\PY{p}{]}
        \PY{n}{gps\PYZus{}filter\PYZus{}accu}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{records\PYZus{}num} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}accu}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for accuracies more than 100m.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
219886 records are removed for accuracies more than 100m.

    \end{Verbatim}

    \hypertarget{filtering-records-outside-of-latitude-range.}{%
\paragraph{Filtering records outside of latitude
range.}\label{filtering-records-outside-of-latitude-range.}}

Desired latitude is between (52.058367, 52.214608)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} outside latitude range}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{l+m+mf}{52.058366}\PY{p}{]}
        \PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}low}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{gps\PYZus{}filter\PYZus{}accu} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}low}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for latitudes less than 52.058367}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}} \PY{l+m+mf}{52.214609}\PY{p}{]}
        \PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}high}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}low} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}high}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for latitudes more than 52.214608}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
233849 records are removed for latitudes less than 52.058367
179810 records are removed for latitudes more than 52.214608

    \end{Verbatim}

    \hypertarget{filtering-records-outside-of-longitude-range.}{%
\paragraph{Filtering records outside of longitude
range.}\label{filtering-records-outside-of-longitude-range.}}

Desired longitude is between (-106.7649138128, -106.52225318)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} outside longitude range}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{o}{\PYZhy{}}\PY{l+m+mf}{106.7649138128}\PY{p}{]}
        \PY{n}{gps\PYZus{}filter\PYZus{}lon\PYZus{}low}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{gps\PYZus{}filter\PYZus{}lat\PYZus{}high} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}lon\PYZus{}low}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for longitudes less \PYZhy{}106.7649138128}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}} \PY{o}{\PYZhy{}}\PY{l+m+mf}{106.52225319}\PY{p}{]}
        \PY{n}{gps\PYZus{}filter\PYZus{}lon\PYZus{}high}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{gps\PYZus{}filter\PYZus{}lon\PYZus{}low} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}lon\PYZus{}high}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for latitudes more than \PYZhy{}106.52225318}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
867 records are removed for longitudes less -106.7649138128
1424 records are removed for latitudes more than -106.52225318

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
        
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GPS data size after filtering is}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
GPS data size after filtering is 7956573 records.

    \end{Verbatim}

    \begin{quote}
There are 8,592,409 records in GPS table. 635,836 records is being
filtered after the filtering for GPS, so 7,956,573 records remain for
GPS data.
\end{quote}

    \hypertarget{filtering-saskatoon-data-based-on-battery-records}{%
\paragraph{Filtering Saskatoon data based on battery
records}\label{filtering-saskatoon-data-based-on-battery-records}}

Obtaining saskatoon data with less than 100m accuracy and users with
more than 50\% battery records

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{c+c1}{\PYZsh{} retrieving users with more than 50\PYZpc{} battery info}
         \PY{n}{user\PYZus{}battery} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/battery\PYZus{}50.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
         
         \PY{c+c1}{\PYZsh{} creating dataframe for filtering Saskatoon data for preferred users}
         \PY{n}{good\PYZus{}50\PYZus{}user\PYZus{}id} \PY{o}{=} \PY{n}{user\PYZus{}battery}\PY{o}{.}\PY{n}{user\PYZus{}id}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
         \PY{n}{gps\PYZus{}data\PYZus{}better50} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{user\PYZus{}id}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{n}{good\PYZus{}50\PYZus{}user\PYZus{}id}\PY{p}{)}\PY{p}{]}
         
         \PY{n}{gps\PYZus{}filter\PYZus{}50\PYZus{}battery}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data\PYZus{}better50}\PY{o}{.}\PY{n}{shape}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{records\PYZus{}num} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}50\PYZus{}battery}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for users with more than 50}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ battery records.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
2280492 records are removed for users with more than 50\% battery records.

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} retrieving users with more than 75\PYZpc{} battery info}
         \PY{n}{user\PYZus{}battery} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/battery\PYZus{}75.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{records\PYZus{}num}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{shape}
         
         \PY{c+c1}{\PYZsh{} creating dataframe for filtering Saskatoon data for preferred users}
         \PY{n}{good\PYZus{}75\PYZus{}user\PYZus{}id} \PY{o}{=} \PY{n}{user\PYZus{}battery}\PY{o}{.}\PY{n}{user\PYZus{}id}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
         \PY{n}{gps\PYZus{}data\PYZus{}better75} \PY{o}{=} \PY{n}{gps\PYZus{}data}\PY{p}{[}\PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{user\PYZus{}id}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{n}{good\PYZus{}75\PYZus{}user\PYZus{}id}\PY{p}{)}\PY{p}{]}
         
         \PY{n}{gps\PYZus{}filter\PYZus{}75\PYZus{}battery}\PY{p}{,} \PY{n}{\PYZus{}} \PY{o}{=} \PY{n}{gps\PYZus{}data\PYZus{}better75}\PY{o}{.}\PY{n}{shape}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{records\PYZus{}num} \PY{o}{\PYZhy{}} \PY{n}{gps\PYZus{}filter\PYZus{}75\PYZus{}battery}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{records are removed for users with more than 75}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ battery records.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
4624080 records are removed for users with more than 75\% battery records.

    \end{Verbatim}

    \begin{quote}
2280492 records are removed for users with more than 50\% battery
records, and 4624080 records are removed for users with more than 75\%
battery records.
\end{quote}

    \begin{quote}
Applying filterings one after the other

\begin{longtable}[]{@{}ll@{}}
\toprule
Filtering method & Records removed\tabularnewline
\midrule
\endhead
Users with less than 50\% battery records & 2,280,492\tabularnewline
Users with less than 75\% battery records & 4,624,080\tabularnewline
Accuracy filtering & 219,886\tabularnewline
Latitude lower bound & 233,849\tabularnewline
Latitude upper bound & 179,810\tabularnewline
Longitude lower bound & 867\tabularnewline
Longitude upper bound & 1424\tabularnewline
\bottomrule
\end{longtable}
\end{quote}

    \hypertarget{heatmap-plotting}{%
\subsubsection{Heatmap plotting}\label{heatmap-plotting}}

    \hypertarget{plotting-heatmap-for-all-data}{%
\paragraph{Plotting heatmap for all
data}\label{plotting-heatmap-for-all-data}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{import} \PY{n+nn}{folium}
        \PY{k+kn}{from} \PY{n+nn}{folium}\PY{n+nn}{.}\PY{n+nn}{plugins} \PY{k}{import} \PY{n}{HeatMap}
        
        \PY{c+c1}{\PYZsh{} plotting heatmap for all records}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/gps.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} creating map}
        \PY{n}{hmap\PYZus{}data} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{52.058367}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{106.7649138128}\PY{p}{]}\PY{p}{)}
        
        \PY{n}{hm\PYZus{}wide} \PY{o}{=} \PY{n}{HeatMap}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{lat}\PY{o}{.}\PY{n}{values}\PY{p}{,} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{lon}\PY{o}{.}\PY{n}{values}\PY{p}{,} \PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{min\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}
        
        \PY{n}{hmap\PYZus{}data}\PY{o}{.}\PY{n}{add\PYZus{}child}\PY{p}{(}\PY{n}{hm\PYZus{}wide}\PY{p}{)}
        
        \PY{n}{hmap\PYZus{}data}\PY{o}{.}\PY{n}{save}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{maps}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{all\PYZus{}records\PYZus{}heatmap.html}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{quote}
Heatmap of GPS record of all data viewing Saskatoon
\end{quote}

    

    \begin{quote}
Heatmap of GPS record of all data viewing World
\end{quote}

    

    \hypertarget{plotting-heatmap-for-filtered-data}{%
\paragraph{Plotting heatmap for filtered
data}\label{plotting-heatmap-for-filtered-data}}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} plotting heatmap for filtered records}
        \PY{n}{gps\PYZus{}data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}pickle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/gps\PYZus{}filter.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} creating map}
        \PY{n}{hmap\PYZus{}data} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{52.058367}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mf}{106.7649138128}\PY{p}{]}\PY{p}{)}
        
        \PY{n}{hm\PYZus{}wide} \PY{o}{=} \PY{n}{HeatMap}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{lat}\PY{o}{.}\PY{n}{values}\PY{p}{,} \PY{n}{gps\PYZus{}data}\PY{o}{.}\PY{n}{lon}\PY{o}{.}\PY{n}{values}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{min\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{)}
        
        \PY{n}{hmap\PYZus{}data}\PY{o}{.}\PY{n}{add\PYZus{}child}\PY{p}{(}\PY{n}{hm\PYZus{}wide}\PY{p}{)}
        
        \PY{n}{hmap\PYZus{}data}\PY{o}{.}\PY{n}{save}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{maps}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filtered\PYZus{}records\PYZus{}heatmap.html}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{quote}
Heatmap of GPS record of filtered data viewing Saskatoon
\end{quote}

    

    \begin{quote}
As we can see, there are records in locations such as other parts of
Canada, the US, and the UK. These might be users who travelled during
the term, which are the minority in the study. Furthermore, there are
some suspicious points in the Atlantic ocean near Nigeria and the
Norwegian sea. One approach to filter these points rather than longitude
is to define ranges of latitude and longitude, and count number of
records in these ranges and remove records with less than a certain
count threshold in their specified range.
\end{quote}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
